<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Upload de Imagem com Drag and Drop</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    .drop-area {
      border: 3px dashed #aaa;
      padding: 30px;
      text-align: center;
      color: #aaa;
      transition: background 0.3s;
    }

    .drop-area.dragover {
      background-color: #f0f0f0;
      border-color: #333;
      color: #333;
    }

    #preview {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    #preview img {
      max-width: 150px;
      height: auto;
      border: 1px solid #ccc;
      padding: 5px;
      background: #fff;
    }

    input[type="file"] {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <h2>Upload de Imagens</h2>

  <!-- Área de arrastar e soltar -->
  <div class="drop-area" id="drop-area">
    Arraste e solte suas imagens aqui ou clique abaixo para selecionar
    <br><br>
    <input type="file" id="fileElem" accept="image/*" multiple>
  </div>

  <!-- Área de preview -->
  <div id="preview"></div>

  <script>
    const dropArea = document.getElementById('drop-area');
    const fileInput = document.getElementById('fileElem');
    const preview = document.getElementById('preview');

    // Impede o comportamento padrão (abrir imagem no navegador)
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, e => e.preventDefault());
      dropArea.addEventListener(eventName, e => e.stopPropagation());
    });

    // Highlight ao arrastar
    ['dragenter', 'dragover'].forEach(eventName => {
      dropArea.addEventListener(eventName, () => dropArea.classList.add('dragover'));
    });

    ['dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, () => dropArea.classList.remove('dragover'));
    });

    // Lidar com o drop
    dropArea.addEventListener('drop', e => {
      const files = e.dataTransfer.files;
      handleFiles(files);
    });

    // Lidar com input tradicional
    fileInput.addEventListener('change', e => {
      const files = e.target.files;
      handleFiles(files);
    });

    function handleFiles(files) {
      [...files].forEach(previewFile);
    }

    function previewFile(file) {
      if (!file.type.startsWith('image/')) return;

      const reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onloadend = () => {
        const img = document.createElement('img');
        img.src = reader.result;
        preview.appendChild(img);
      };
    }
  </script>

</body>
</html>